/*
 * Inline Form Validation Engine 1.7, jQuery plugin
 * 
 * Copyright(c) 2010, Cedric Dugas
 * http://www.position-relative.net
 *	
 * Form validation engine allowing custom regex rules to be added.
 * Thanks to Francois Duquette and Teddy Limousin 
 * and everyone helping me find bugs on the forum
 * Licenced under the MIT Licence
 * 
 * bluespring 修改1.6.4.1
 *	1.提供选项定制是否关闭提示框箭头 showArray
 * 	2.提供选项定制提示框是否在鼠标放上去的时刻出现还是一直出现 showOnMouseOver
 * 	3.提供选项定制input 效验错误样式
 * 
 * Quentin 修改
 * 	1. 无法全部去掉红色边框的bug   
 * 
 * matychen 修改
 * 	1.把css 中的errorform的padding-bottom改为margin-bottom ，如果不改，在checkbox的时候会遮挡。
 * 	2.当showOnMouseOver为true时。增加处理checkbox时，下面被占用，自己减少了top的高度，如果不减少top的高度，在checkbox的时候会遮挡。
 * 	3.修复了ie6的select遮挡div的bug
 * 	4.增加验证规则存放的属性名称
 * 	5.修改了ajax的发送到客户端的参数名称，返回值不用数组，直接用json对象。
 *		验证规则的名称validateError-->customAjaxRule
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(8($){$.3U.3=8(b){4($.1P){1d=$.1P.1d}q{$.3.M("没有正确加载外部验证引擎规则,请检查外部文件的引用.")}b=2G.3V({p:1d,1Q:"3W",29:n,1R:o,2H:n,2a:n,1e:o,1v:"",1w:o,2b:n,F:"1S",G:o,2I:8(){},1T:8(){},2J:n,11:n,1x:\'1U-3X\',1f:\'r\'},b);$.3.7=b;$.3.N=2K 2L();4(b.29==n){4(!b.1R){3Y=o;4(b.2H){$(v).S("["+$.3.7.1f+"*=1g][H!=12]").2c(b.1Q,8(a){1y(v)});$(v).S("["+$.3.7.1f+"*=1g][H=12]").2c("2d",8(a){1y(v)})}q{$(v).S("["+$.3.7.1f+"*=1g]").14("[H=12]").1z(b.1Q,8(a){1y(v)});$(v).S("["+$.3.7.1f+"*=1g][H=12]").1z("2d",8(a){1y(v)})}3Z=o}8 1y(a){$.3.7=b;4($.3.2e==o||!$.3.2e){$.3.2f=o;$.3.2g(a)}q{$.3.2e=o}}}4(b.1R){4($.3.2h(v,b)){t o}q{t n}}$(v).1z("2M",8(a){$.3.2f=n;$.3.7=b;4($.3.2h(v,b)==o){4($.3.2N(v,b)==n)t o}q{b.1T&&b.1T();t o}});4(!$.3.7.11)$(".O").2c("2d",8(){$(v).40(41,8(){$(v).T()})})};$.3={1V:8(a){4($.1P){1d=$.1P.1d}q{$.3.M("没有正确加载外部验证引擎规则,请检查外部文件的引用.")}7={p:1d,1Q:"42",29:n,1e:o,1v:"",1R:o,2b:n,2a:n,1w:o,F:"1S",G:o,1T:8(){}};$.3.7=7},2g:8(a){4(!$.3.7)$.3.1V();2O=$(a).u($.3.7.1f);2P=/\\[(.*)\\]/;2i=2P.43(2O);4(2i==44)t o;2Q=2i[1];1W=/\\[|,|\\]/;2R=2Q.45(1W);s b=$.3.2S(a,2R);t b},2S:8(h,j){s k="";4(!$(h).u("1A"))$.3.M("这个地方没有46这个属性( y & r 47): "+$(h).u("y")+" "+$(h).u("r"));h=h;1h=o;s l=$(h).u("y");$.3.w=o;$.3.1i=$.3.7.2J;I=$(h).u("H");1B(i=0;i<j.P;i++){48(j[i]){J"49":4(!$(h).1C()){$.3.1D(h);t $.3.w}K;J"2T":2U(h,j);K;J"4a":2V(h,j,i);K;J"4b":2W(h,j,i);K;J"2j":4(!$.3.2f)2X(h,j,i);K;J"P":2Y(h,j,i);K;J"16":2Z(h,j,i);K;J"31":32(h,j,i);U=$(h).u("y");h=$("V[y=\'"+U+"\']");K;J"2k":33(h,j,i);U=$(h).u("y");h=$("V[y=\'"+U+"\']");K;J"34":35(h,j,i);K;J"4c":36(h,j,i);K;4d:}};37();4($.3.w==n){s m="."+$.3.B(h);4(m!="."){4(!$(m)[0]){$.3.1X(h,k,"1U")}q{$.3.1j(h,k)}}q{$.3.1j(h,k)}}q{$.3.1D(h)}8 37(){4($("V[y=\'"+l+"\']").17()>1&&(I=="2l"||I=="12")){h=$("V[y=\'"+l+"\'][H!=4e]:2m");$.3.1i=o}}8 2U(a,b){I=$(a).u("H");4(I=="4f"||I=="4g"||I=="4h"){4(!$(a).1C()){$.3.w=n;k+=$.3.7.p[b[i]].D+"<A />"}}4(I=="2l"||I=="12"){l=$(a).u("y");4($("V[y=\'"+l+"\']:2n").17()==0){$.3.w=n;$.3.1i=o;$.3.1E=n;4($("V[y=\'"+l+"\']").17()==1){k+=$.3.7.p[b[i]].4i+"<A />"}q{k+=$.3.7.p[b[i]].4j+"<A />"}}}4(I=="38-4k"){4(!$(a).1C()){$.3.w=n;k+=$.3.7.p[b[i]].D+"<A />"}}4(I=="38-4l"){4(!$(a).S("4m:4n").1C()){$.3.w=n;k+=$.3.7.p[b[i]].D+"<A />"}}}8 2V(a,b,c){1k=b[c+1];1W=W($.3.7.p[1k].4o);4(!1W.39($(a).u(\'1l\'))){$.3.w=n;k+=$.3.7.p[1k].D+"<A />"}}8 2W(a,b,c){3a=b[c+1];4(3a==$(a).u(\'1l\')){$.3.w=n;k+=$.3.7.p[\'2T\'].D+"<A />"}}8 36(a,b,c){1k=b[c+1];3b=$.3.7.p[1k].4p;s d=4q[3b];4(3c(d)===\'8\'){s e=d();4(!e){$.3.w=n}k+=$.3.7.p[1k].D+"<A />"}}8 2X(c,d,e){z=d[e+1];3d=$.3.7.p[z].4r;3e=$(c).1C();X=c;Y=$(c).u("1A");1h=n;1F=$.3.w;4($.3.7.p[z].Q){Q=$.3.7.p[z].Q}q{Q=""}4(!1F){$.2j({H:"3f",3g:3d,1m:"4s="+3e+"&3h="+Y+"&z="+z+"&Q="+Q,4t:8(){4($.3.7.p[z].2o){4(!$("9."+Y+"O")[0]){t $.3.1X(X,$.3.7.p[z].2o,"1Y")}q{$.3.1j(X,$.3.7.p[z].2o,"1Y")}}},1U:8(a,b){$.3.M("3i 错误: "+a.3j+" "+b)},G:8(b){1F=b.1F;z=b.z;X=$("#"+b.3h)[0];Y=X;18=$.3.N.P;1Z=o;4(1F==o){2p(o);4(!1Z){$.3.N[18]=2K 2L(2);$.3.N[18][0]=Y;$.3.N[18][1]=o;1Z=o}$.3.1G=o;k+=$.3.7.p[z].D+"<A />";$.3.1j(X,k,"",n)}q{2p(n);$.3.1G=n;4(!z){$.3.M("z没有返回值, 请检查. ")}4($.3.7.p[z].3k){$.3.1j(X,$.3.7.p[z].3k,"2q",n)}q{1h=o;$.3.1D(X)}}8 2p(a){1B(x=0;x<18;x++){4($.3.N[x][0]==Y){$.3.N[x][1]=a;1Z=n}}}}})}}8 35(a,b,c){3l=b[c+1];4($(a).u(\'1l\')!=$("#"+3l).u(\'1l\')){$.3.w=n;k+=$.3.7.p["34"].D+"<A />"}}8 2Y(a,b,c){2r=W(b[c+1]);2s=W(b[c+2]);2t=$(a).u(\'1l\').P;4(2t<2r||2t>2s){$.3.w=n;k+=$.3.7.p["P"].D+2r+$.3.7.p["P"].20+2s+$.3.7.p["P"].2u+"<A />"}}8 2Z(a,b,c){s d=W(b[c+1]);s f=W(b[c+2]);s g;3m{g=4u($(a).u(\'1l\'))}4v(e){k+=$.3.7.p["16"].D+d+$.3.7.p["16"].20+f+$.3.7.p["16"].2u+"<A />";$.3.w=n;t}4(g<d||g>f){k+=$.3.7.p["16"].D+d+$.3.7.p["16"].20+f+$.3.7.p["16"].2u+"<A />";$.3.w=n}}8 32(a,b,c){1H=W(b[c+1]);U=$(a).u("y");21=$("V[y=\'"+U+"\']:2n").17();4(21>1H){$.3.1i=o;$.3.w=n;$.3.1E=n;k+=$.3.7.p["31"].D+"<A />"}}8 33(a,b,c){1H=W(b[c+1]);U=$(a).u("y");21=$("V[y=\'"+U+"\']:2n").17();4(21<1H){$.3.w=n;$.3.1i=o;$.3.1E=n;k+=$.3.7.p["2k"].D+" "+1H+" "+$.3.7.p["2k"].20+"<A />"}}t($.3.w)?$.3.w:o},2N:8(c){4($.3.7.1w){4($.3.7.3n){Q=$.3.7.3n}q{Q=""}$.2j({H:"3f",3g:$.3.7.4w,4x:n,1m:$(c).4y()+"&"+Q,1U:8(a,b){$.3.M("3i 错误: "+a.3j+" "+b)},G:8(a){4(a=="n"){$(c).2v("22",1);$(c).1I({22:0,1J:0},8(){$(c).2v("4z","4A");$(c).3o("<9 r=\'1w\'>"+$.3.7.4B+"</9>");$.3.1D(".O",n);$(".1w").3p("4C");4($.3.7.G){$.3.7.G&&$.3.7.G();t o}})}q{a=W("("+a+")");4(!a.1n){$.3.M("没有正确的执行G这个函数并且1n返回空值.")}3q=a.1n.P;1B(1o=0;1o<3q;1o++){Y=a.1n[1o][0];3r=a.1n[1o][1];H=a.1n[1o][2];$.3.1X(Y,3r,H)}}}});t n}4(!$.3.7.2I()){4($.3.7.G){4($.3.7.2a){$(c).19("2M")}$.3.7.G&&$.3.7.G();t n}}q{t n}t o},1K:8(a){a.1m.2w();a.1m.1L(\'3s\',1,8(){$(v).3p()})},1M:8(a){a.1m.2w();a.1m.1L(\'3s\',0,8(){$(v).3t()})},1X:8(a,b,c,d){4(!$.3.7){$.3.1V()}23="."+$(a).u("1A")+"O";4($(23)[0]){$(23).2w();$(23).T()}s e=2x.2y(\'9\');s f=2x.2y(\'9\');B=$.3.B(a);$(e).E("O");4(c=="2q")$(e).E("1p");4(c=="1Y")$(e).E("2z");4(d)$(e).E("24");$(e).E(B);$(f).E("3u");4($.3.7.1e){$(a).3o(e)}q{$("2A").1a(e)}$(e).1a(f);4($.3.1i!=o){s g=2x.2y(\'9\');$(g).E("4D");$(e).1a(g);4($.3.7.F=="3v"||$.3.7.F=="3w"){$(g).E("4E");$(g).1N(\'<9 r="3x"><!-- --></9><9 r="3y"><!-- --></9><9 r="3z"><!-- --></9><9 r="3A"><!-- --></9><9 r="3B"><!-- --></9><9 r="3C"><!-- --></9><9 r="3D"><!-- --></9><9 r="3E"><!-- --></9><9 r="3F"><!-- --></9><9 r="3G"><!-- --></9>\')}4($.3.7.F=="3H"||$.3.7.F=="1S"){$(e).1a(g);$(g).1N(\'<9 r="3G"><!-- --></9><9 r="3F"><!-- --></9><9 r="3E"><!-- --></9><9 r="3D"><!-- --></9><9 r="3C"><!-- --></9><9 r="3B"><!-- --></9><9 r="3A"><!-- --></9><9 r="3z"><!-- --></9><9 r="3y"><!-- --></9><9 r="3x"><!-- --></9>\')}}$(f).1N(b);s h=$.3.2B(a,b,c,d,e);h.C+="1q";h.L+="1q";h.1O+="1q";$(e).2v({"Z":h.C,"3I":h.L,"3J":h.1O,"22":0});4($.4F.4G&&/6.0/.39(4H.4I)){$(e).1a(\'<2C r="2C" 4J="0" 4K="4L:o;"></2C>\');4($.3.7.11){$(e).3t()}}4($.3.7.11){4($(a).3K(\':12,:2l\')){$(e).R(0).1b=$(a).4M()}q{$(e).R(0).1b=$(a)}$(e).R(0).1b.E($.3.7.1x);$(e).R(0).1b.1z(\'25\',$(e),$.3.1K).1z(\'26\',$(e),$.3.1M)}q{t $(e).1I({"22":0.4N},8(){t n})}},1j:8(a,b,c,d){B=$.3.B(a);s e="."+B;4(c=="2q"){$(e).E("1p");4($.3.7.11){4($(e).R(0))$(e).R(0).1b.1r($.3.7.1x).19(\'25\',$.3.1K).19(\'26\',$.3.1M);$(e).T()}q{$(e).1L("2D",0,8(){$(e).T()})}}q{$(e).1r("1p")};4(c=="1Y"){$(e).E("2z")}q{$(e).1r("2z")};4(d){$(e).E("24")}q{$(e).1r("24")};$(e).S(".3u").1N(b);s f=$.3.2B(a,b,c,d,e);f.C+="1q";f.L+="1q";f.1O+="1q";$(e).1I({"Z":f.C,"3J":f.1O})},2B:8(a,b,c,d,e){4($.3.7.1e){C=0;L=0;1s=$(a).3L();1t=$(e).1J();s f="-"+1t}q{C=$(a).1c().Z;L=$(a).1c().3I;1s=$(a).3L();1t=$(e).1J();s f=0}4($.3.7.F=="1S"){4($.3.7.1e){L+=1s-30}q{L+=1s-30;4($.3.1E){C+=-1t-10;$.3.1E=o}q{C+=-1t}}}4($.3.7.F=="3H"){C+=-1t-10}4($.3.7.F=="4O"){L+=1s+13}4($.3.7.F=="3v"){27=$(a).1J();C=C+27+15}4($.3.7.F=="3w"){27=$(a).1J();L+=1s-30;C+=27+5}t{"C":C,"L":L,"1O":f}},B:8(a){s b=$(a).u("1A")+"O";b=b.3M(/\\[/g,"");b=b.3M(/\\]/g,"");t b},1D:8(a,b){4(!$.3.7){$.3.1V()}4(b){4($.3.7.11){1B(s i=0;i<$(a).17();i++){$(a).R(i).1b.1r($.3.7.1x).19(\'25\',$.3.1K).19(\'26\',$.3.1M)}$(a).T()}q{$(a).1L("2D",0,8(){$(a).T()})}t o}4(3c(1h)==\'4P\'){1h=o};4(!1h){B=$.3.B(a);1u="."+B;4($.3.7.11){4($(1u).R(0))$(1u).R(0).1b.1r($.3.7.1x).19(\'25\',$.3.1K).19(\'26\',$.3.1M);$(1u).T()}q{$(1u).1L("2D",0,8(){$(1u).T()})}}},M:8(a){4(!$("#3N")[0]){$("2A").1a("<9 1A=\'3N\'><9 r=\'3O\'><3P>4Q 3K a M 4R, 28 4S a 3Q 4T 4U 4V, 4W 4X 3m 4Y 4Z 28, 50 51 28 52 28 53 54 55 3Q</3P></9></9>")}$(".3O").1a("<9 r=\'56\'>"+a+"</9>")},2h:8(b){s c=o;$.3.1G=n;s d=$(b).S("[r*=1g]").17();$(b).S("[r*=1g]").3R(8(){B=$.3.B(v);4(!$("."+B).57("24")){s a=$.3.2g(v);t(a)?c=n:""}});18=$.3.N.P;1B(x=0;x<18;x++){4($.3.N[x][1]==o)$.3.1G=o}4(c||!$.3.1G){4($.3.7.2b){4(!$.3.7.1e){s e=$(".O:14(\'.1p\'):2m").1c().Z;$(".O:14(\'.1p\')").3R(8(){3S=$(v).1c().Z;4(e>3S)e=$(v).1c().Z});$("1N:14(:2E),2A:14(:2E)").1I({2F:e},3T)}q{s e=$(".O:14(\'.1p\'):2m").1c().Z;s f=$($.3.7.1v).2F();s g=-58($($.3.7.1v).1c().Z);s e=f+e+g-5;s h=$.3.7.1v+":14(:2E)";$(h).1I({2F:e},3T)}}t n}q{t o}}}})(2G);',62,319,'|||validationEngine|if|||settings|function|div||||||||||||||true|false|allrules|else|class|var|return|attr|this|isError||name|customAjaxRule|br|linkTofield|callerTopPosition|alertText|addClass|promptPosition|success|type|callerType|case|break|callerleftPosition|debug|ajaxValidArray|formError|length|extraData|get|find|remove|groupname|input|eval|ajaxCaller|fieldId|top||showOnMouseOver|checkbox||not||region|size|ajaxErrorLength|unbind|append|validateField|offset|allRules|containerOverflow|validateAttribute|validate|ajaxValidate|showTriangle|updatePromptText|customRule|value|data|jsonValidateReturn|index|greenPopup|px|removeClass|callerWidth|inputHeight|closingPrompt|containerOverflowDOM|ajaxSubmit|errorClass|_inlinEvent|bind|id|for|val|closePrompt|addTop|ajaxisError|ajaxValid|nbCheck|animate|height|showTip|fadeTo|hideTip|html|marginTopSize|validationEngineLanguage|validationEventTriggers|returnIsValid|topRight|failure|error|defaultSetting|pattern|buildPrompt|load|existInarray|alertText2|groupSize|opacity|deleteItself|ajaxed|mouseover|mouseout|callerHeight|you|inlineValidation|unbindEngine|scroll|live|click|intercept|onSubmitValid|loadValidation|submitValidation|getRules|ajax|minCheckbox|radio|first|checked|alertTextLoad|_checkInArray|pass|startLength|endLength|feildLength|alertText3|css|stop|document|createElement|blackPopup|body|calculatePosition|iframe|fast|animated|scrollTop|jQuery|liveEvent|beforeSuccess|showArrow|new|Array|submit|submitForm|rulesParsing|rulesRegExp|str|result|validateCall|required|_required|_customRegex|_exemptString|_ajax|_length|_region||maxCheckbox|_maxCheckbox|_minCheckbox|confirm|_confirm|_funcCall|radioHack|select|test|customString|funce|typeof|postfile|fieldValue|POST|url|validateId|Ajax|status|alertTextOk|confirmField|try|ajaxSubmitExtraData|before|show|errorNumber|promptError|normal|hide|formErrorContent|bottomLeft|bottomRight|line1|line2|line3|line4|line5|line6|line7|line8|line9|line10|topLeft|left|marginTop|is|width|replace|debugMode|debugError|strong|problem|each|testDestination|1100|fn|extend|focusout|field|allowReturnIsvalid|firstvalid|fadeOut|150|blur|exec|null|split|ID|displayed|switch|optional|custom|exemptString|funcCall|default|hidden|text|password|textarea|alertTextCheckboxe|alertTextCheckboxMultiple|one|multiple|option|selected|regex|nname|window|file|validateValue|beforeSend|parseFloat|catch|ajaxSubmitFile|async|serialize|display|none|ajaxSubmitMessage|slow|formErrorArrow|formErrorArrowBottom|browser|msie|navigator|userAgent|frameborder|scr|javascript|parent|87|centerRight|undefined|This|mode|got|with|your|form|it|will|to|help|refresh|when|think|nailed|down|the|debugerror|hasClass|parseInt'.split('|'),0,{}))